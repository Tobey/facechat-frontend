{"version":3,"sources":["components/Layout.js","pages/home.js","components/Publisher.js","components/CheckBox.js","components/Subscriber.js","config.js","pages/chat.js","pages/signup.js","index.js"],"names":["Progressbar","value","text","styles","buildStyles","strokeLinecap","textSize","pathTransitionDuration","pathColor","textColor","trailColor","backgroundColor","HomeLayout","Grid","centered","verticalAlign","divided","Row","columns","Column","Image","src","rounded","size","Rating","icon","defaultRating","maxRating","Statistic","stretched","textAlign","Item","Content","Header","Meta","Description","Extra","color","Value","Icon","name","Label","width","to","Button","style","whiteSpace","React","Component","Home","Container","fluid","Divider","horizontal","Publisher","props","setAudio","audio","setState","setVideo","video","changeVideoSource","videoSource","state","onError","err","error","message","properties","publishAudio","this","publishVideo","undefined","height","Subscriber","subscribeToAudio","subscribeToVideo","qs","require","Chat","timeout","connect","token","parse","location","search","ignoreQueryPrefix","__t","console","log","connectInterval","ws","WebSocket","that","onopen","clearTimeout","onclose","e","Math","min","reason","setTimeout","check","onerror","close","addEventListener","event","data","JSON","session_id","session","connectionCount","username","readyState","CLOSED","_isMounted","sessionEventHandlers","connectionCreated","connectionId","connection","creationTime","type","sessionId","parser","send","stringify","connectionDestroyed","sessionConnected","sessionDisconnected","sessionReconnected","apiKey","opentokconfig","eventHandlers","h1","marginTop","h2","margin","h3","padding","last","marginBottom","SignUp","as","content","Segment","Form","Field","placeholder","Checkbox","label","routes","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41c7d724.chunk.js","sourcesContent":["import React from 'react';\nimport  { NavLink,\n} from \"react-router-dom\"\n\nimport { \n  Grid, \n  Image, \n  Card, \n  Icon, \n  Button, \n  Container, \n  Item, \n  Divider,\n  Header,\n  Rating,\n  Statistic,\n  Segment,\n  Progress\n  } from 'semantic-ui-react'\n\nimport { CircularProgressbar, buildStyles  } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\n\n\nconst Progressbar = () => (\n  <CircularProgressbar\n  value={66}\n  text={`3:32`}\n  // circleRatio={0.5}\n  styles={buildStyles({\n    strokeLinecap: 'butt',\n    textSize: '14px',\n    pathTransitionDuration: 0.5,\n    pathColor: `rgba(62, 152, 199, ${200 / 100})`,\n    textColor: '#d62d20',\n    trailColor: '#d6d6d6',\n    backgroundColor: '#3e98c7',\n  })}\n/>\n)\nclass HomeLayout extends React.Component {\n    render() {\n      return (\n        <Grid  centered verticalAlign='middle' divided='vertically'>\n\n          {/* top  profile row  */}\n          <Grid.Row centered columns={1}>\n            <Grid.Column>\n              <Image src={\"https://semantic-ui.com/images/avatar2/large/kristy.png\"} centered rounded  size='medium'/>\n            </Grid.Column>\n          <Rating icon='star' defaultRating={2} maxRating={3} />\n        <Statistic size='tiny'>\n\n          </Statistic>\n  \n          </Grid.Row>\n\n          {/* profile details */}\n          <Grid.Row centered stretched columns={2} >\n            <Grid.Column textAlign=\"center\" >\n                <Item> \n                    <Item.Content>\n                        <Header>Header</Header>\n                        <Item.Meta>Description </Item.Meta>\n                        <Item.Description>\n                          More stuff here\n                        </Item.Description>\n                        <Item.Extra>Additional Details</Item.Extra>\n                    </Item.Content>\n                </Item>\n            </Grid.Column>\n            <Grid.Column textAlign=\"center\">\n                <Item>\n                  <Item.Content>\n                  <Item.Meta>Description</Item.Meta>\n                  </Item.Content>\n                  <Item.Description color=\"yellow\"> More stuff here </Item.Description>\n                  <Statistic size='tiny' color='olive' >\n                  <Statistic.Value>\n                    <Icon name='pound sign'/> 500\n                  </Statistic.Value>\n                  <Statistic.Label>limited offer</Statistic.Label>\n                </Statistic>\n                </Item> \n            </Grid.Column>\n          </Grid.Row>\n          <Grid.Row columns={1} centered>\n              <Grid.Column verticalAlign='middle' width={6}>  \n              <Progressbar/>\n          </Grid.Column>\n          </Grid.Row>\n          {/* Live Actions */}\n          <Grid.Row columns={1} centered>\n              <Grid.Column verticalAlign='middle'>\n              <NavLink to=\"/chat/\">  \n                <Button  size=\"medium\" color=\"blue\"\n                  style={{whiteSpace: \"nowrap\"}}\n                >\n                  place a bid  \n                </Button>\n              </NavLink>\n         \n              </Grid.Column>\n              \n          </Grid.Row>\n      </Grid>\n  \n        );\n      }\n  }\n  \n  export default HomeLayout;","import React from 'react';\n\nimport HomeLayout from '../components/Layout';\n\nimport { Container, Divider } from 'semantic-ui-react'\n\n\nclass Home extends React.Component {\n\n\n  render() {\n    return (\n      <Container  fluid >\n      <Divider  horizontal><b>Facechat.</b></Divider>\n         <br /><br />\n         <Container>\n           <HomeLayout/>\n         </Container>\n     </Container>\n\n      );\n    }\n}\n\nexport default Home\n","import React from 'react';\nimport { OTPublisher, OTSubscriber } from 'opentok-react';\nimport CheckBox from './CheckBox';\nimport { Container } from 'semantic-ui-react'\nimport '../pages/chat.css';\n\nclass Publisher extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: null,\n        audio: false,\n        video: true,\n        videoSource: 'camera'\n      };\n    }\n      setAudio = (audio) => {\n        this.setState({ audio });\n      }\n     \n      setVideo = (video) => {\n        this.setState({ video });\n      }\n     \n      changeVideoSource = (videoSource) => {\n        (this.state.videoSource !== 'camera') ? this.setState({videoSource: 'camera'}) : this.setState({ videoSource: 'screen' })\n      }\n     \n      onError = (err) => {\n        this.setState({ error: `Failed to publish: ${err.message}` });\n      }\n   \n      render() {\n        return (\n             <OTPublisher \n              properties={{\n                publishAudio: this.state.audio,\n                publishVideo:  this.state.video,\n                videoSource: this.state.videoSource === 'screen' ? 'screen' : undefined,\n                height: '30vh',\n                width: '30vw',\n                // height: '100vh',\n                // width: '100vw',\n              }}\n\n          ></OTPublisher>\n\n        )};\n  }\n  export default Publisher;\n","import React from 'react';\nimport { uniqueId } from 'lodash';\n \nclass CheckBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: uniqueId('Checkbox'),\n      isChecked: this.props.initialChecked\n    };\n  }\n \n  onChange = (event) => {\n    let isChecked = event.currentTarget.checked;\n    this.setState({ isChecked });\n  }\n \n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.isChecked !== this.state.isChecked &&\n      typeof this.props.onChange === 'function'\n    ) {\n      this.props.onChange(this.state.isChecked);\n    }\n  }\n \n  render() {\n    return (\n      <div>\n        <label htmlFor={this.state.id}>\n          {this.props.label}\n        </label>\n        <input\n          type=\"checkbox\"\n          checked={this.state.isChecked}\n          id={this.state.id}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\nexport default CheckBox;\n","import React from 'react';\nimport { OTSubscriber } from 'opentok-react';\n \nclass Subscriber extends React.Component {\n  constructor(props) {\n    super(props);\n \n    this.state = {\n      error: null,\n      audio: false,\n      video: true\n    };\n  }\n \n  setAudio = (audio) => {\n    this.setState({ audio });\n  }\n \n  setVideo = (video) => {\n    this.setState({ video });\n  }\n \n  onError = (err) => {\n    this.setState({ error: `Failed to subscribe: ${err.message}` });\n  }\n \n  render() {\n    return (\n\n        <OTSubscriber\n          properties={{\n            subscribeToAudio: this.state.audio,\n            subscribeToVideo: this.state.video,\n            height: '100vh',\n            width: '100vw',\n          }}\n          onError={this.onError}\n        />\n    );\n  }\n}\nexport default Subscriber;","export default {\n  API_KEY: '46531532',\n  // SESSION_ID: '',\n  // TOKEN: ''\n  SESSION_ID: '2_MX40NjUzMTUzMn5-MTU4NjYwNjUzNzcwOH5UZ0szUk9LMUNCbWx4OVBvRS83dWFwSW9-fg',\n  TOKEN: 'T1==cGFydG5lcl9pZD00NjUzMTUzMiZzaWc9ZjBiYmJkODJjMzYzODhlZWI2YWQyMmU5N2RiZDgzM2E4OWNlM2ZlZDpzZXNzaW9uX2lkPTJfTVg0ME5qVXpNVFV6TW41LU1UVTROall3TmpVek56Y3dPSDVVWjBzelVrOUxNVU5DYld4NE9WQnZSUzgzZFdGd1NXOS1mZyZjcmVhdGVfdGltZT0xNTg2NjA2NTQ1Jm5vbmNlPTAuNDg5ODg2MDI2MzA4MDI3MTMmcm9sZT1wdWJsaXNoZXImZXhwaXJlX3RpbWU9MTU4NjYxMDE0NSZpbml0aWFsX2xheW91dF9jbGFzc19saXN0PQ=='\n};\n \n","import React from 'react';\nimport Publisher from '../components/Publisher';\nimport Subscriber  from '../components/Subscriber';\nimport { OTSession, OTStreams, preloadScript } from 'opentok-react';\nimport opentokconfig from '../config';\nimport { Loader, Dimmer } from 'semantic-ui-react'\n\nimport './chat.css'\nimport 'semantic-ui-css/semantic.min.css';\n\nconst OT = require('@opentok/client');\nconst qs = require('qs');\n\nclass Chat extends React.Component {\n\n  timeout = 250; // Initial timeout duration as a class variable\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      session: null,\n      token: null,\n      connectionCount: 0,\n      session: null,\n      ws: null,\n      username: null,\n\n    }\n    this._isMounted = false;\n\n this.sessionEventHandlers = {\n      connectionCreated: event =>  {\n          console.log(\"[NEW] connection created\", event);\n          var data = {\n            connectionId: event.connection.connectionId,\n            creationTime: event.connection.creationTime,\n            data: event.connection.data,\n            event: event.type,\n            sessionId: this.state.session,\n            parser: 'connection_created',\n\n          }\n          console.log('sending it', data)\n          this.state.ws.send(JSON.stringify(data));\n\n\n      },\n      connectionDestroyed: event =>  {\n          console.log(\"connection destroyed\", event);\n      },\n      sessionConnected: event => {\n          console.log(\"Client connect to a session\")\n      },\n      sessionDisconnected: event => {\n        console.log(\"Client disConnect to a session\")\n      },\n      sessionReconnected: event => {\n        console.log(\"session reconnected\")\n      },\n    };\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n }\n  componentDidMount() {\n    this._isMounted = true; // https://stackoverflow.com/questions/52061476/cancel-all-subscriptions-and-asyncs-in-the-componentwillunmount-method-how\n\n    if (!this._isMounted) {\n        return\n    }\n    console.log(\"Mounted!\")\n    this.connect()\n    console.log('connected to session')\n  }\n\n\n\n   connect = () => {\n        var token = qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).__t\n        console.log('token', token)\n        var   ws = new WebSocket('ws://localhost:8002/paytok/?t=Token+'+token)\n        let that = this; // cache the this\n        var connectInterval;\n        // websocket onopen event listener\n        ws.onopen = () => {\n            console.log(\"connected websocket main component\");\n\n            this.setState({ ws: ws });\n\n            that.timeout = 250; // reset timer to 250 on open of websocket connection\n            clearTimeout(connectInterval); // clear Interval on on open of websocket connection\n        };\n        // websocket onclose event listener\n        ws.onclose = e => {\n            console.log(\n                `Socket is closed. Reconnect will be attempted in ${Math.min(\n                    10000 / 1000,\n                    (that.timeout + that.timeout) / 1000\n                )} second.`,\n                e.reason\n            );\n\n            that.timeout = that.timeout + that.timeout; //increment retry interval\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout)); //call check function after timeout\n        };\n\n        // websocket onerror event listener\n        ws.onerror = err => {\n            console.error(\n                \"Socket encountered error: \",\n                err.message,\n                \"Closing socket\"\n            );\n\n            ws.close();\n        };\n\n        ws.addEventListener('message', function (event) {\n            console.log('Message from server ', event.data);\n            var data = JSON.parse(event.data)\n            if (typeof data.token != 'undefined' && typeof data.session_id != 'undefined' ) {\n                    console.log('Joining session', data.session_id);\n                   that.setState({session: data.session_id, token: data.token, connectionCount: 2})\n\n            }\n\n            if (typeof data.username != 'undefined' ) {\n               that.setState({username: data.username})\n\n            }\n\n        });\n    };\n    /**\n     * utilited by the @function connect to check if the connection is close, if so attempts to reconnect\n     */\n    check = () => {\n        const { ws } = this.state;\n        if (!ws || ws.readyState == WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\n    };\n\n\n  render() {\n\n    if (this.state.session == null ){\n\n       if (this.state.username != null) {\n             return <div>Hi {this.state.username} </div>\n\n       } else  {\n             return <div>Loading..</div>\n       }\n    } else {\n      return (\n          <OTSession\n          apiKey={opentokconfig.API_KEY}\n          sessionId={this.state.session}\n          token={this.state.token}\n          eventHandlers={this.sessionEventHandlers}\n          onError={this.onError}\n    >\n\n          <OTStreams>\n            <Subscriber/>\n        </OTStreams>\n        <Publisher/>\n      </OTSession>\n      )\n    }\n  }\n\n\n}\nexport default  Chat\n\n","import React from 'react';\n\nimport { Form, Checkbox, Button, Container, Segment, Header } from 'semantic-ui-react'\n\n\nconst style = {\n    h1: {\n      marginTop: '3em',\n    },\n    h2: {\n      margin: '4em 0em 2em',\n    },\n    h3: {\n      marginTop: '2em',\n      padding: '2em 0em',\n    },\n    last: {\n      marginBottom: '300px',\n    },\n  }\n\n  class SignUp extends React.Component {\n  \n    render() {\n      return (\n        <Container>\n            <Header as='h1' content='Signup' style={style.h1} textAlign='center' />\n            <Header as='h2' content='Personal Detail' style={style.h2} textAlign='center' />\n             <Segment>\n                <Form>\n                <Form.Field>\n                    <label>First Name</label>\n                    <input placeholder='First Name' />\n                </Form.Field>\n                <Form.Field>\n                    <label>Last Name</label>\n                    <input placeholder='Last Name' />\n                </Form.Field>\n                <Form.Field>\n                    <Checkbox label='I agree to the Terms and Conditions' />\n                </Form.Field>\n                    <Button type='submit'>Submit</Button>\n                </Form>\n            </Segment>\n        </Container>\n        );\n      }\n    \n    }\n    export default SignUp","\n// https://www.nexmo.com/blog/2019/07/16/opentok-react-components-dr\n// https://medium.com/@a.carreras.c/using-semantic-ui-react-your-react-js-app-523ddc9abeb3\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from './pages/home';\nimport Chat from './pages/chat';\nimport SignUp from './pages/signup';\nimport 'semantic-ui-css/semantic.min.css';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\n\n  const routes = (\n    <Router  >\n    <Switch>\n      <Route exact path=\"/\" component={ Home } />\n      <Route exact  path=\"/chat/\" component={ Chat } />\n      <Route  path=\"/signup/\" component={ SignUp } />\n    </Switch>\n\n  </Router>\n  )\n  \nReactDOM.render(routes, document.getElementById('root'));\n"],"sourceRoot":""}