{"ast":null,"code":"var _jsxFileName = \"/Users/tobeyasinugo/dev/facechat_django/frontend/src/pages/login.js\";\nimport React from 'react';\nimport { Form, Checkbox, Button, Container, Segment, Header, Input } from 'semantic-ui-react';\nimport { history } from '../helpers/history';\nimport { Fetch } from '../helpers/auth-request';\nimport { handleResponse } from '../helpers/handle-response';\nimport { authenticationService } from '../services/auth.service';\nconst style = {\n  h1: {\n    marginTop: '3em'\n  },\n  h2: {\n    margin: '4em 0em 2em'\n  },\n  h3: {\n    marginTop: '2em',\n    padding: '2em 0em'\n  },\n  last: {\n    marginBottom: '300px'\n  }\n};\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props); // redirect to home if already logged in\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      authenticationService.login(this.state.username, this.state.password);\n    };\n\n    this.handletest = e => {\n      e.preventDefault();\n      Fetch('http://localhost:8002/api/user/me/');\n      const requestOptions = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      Fetch('http://localhost:8002/api/user/me/').then(handleResponse).then(data => {\n        console.log('me');\n        console.log(data);\n      });\n    };\n\n    if (authenticationService.currentUser) {\n      console.log('user ', authenticationService.currentUser);\n      authenticationService.logout();\n      history.push('/#/chat/maya-jama/');\n    }\n\n    this.state = {\n      username: null,\n      password: null\n    };\n  }\n\n  componentDidMount() {\n    authenticationService.auth.subscribe(x => this.setState({\n      auth: x\n    }));\n  }\n\n  logout() {\n    authenticationService.logout();\n    history.push('/login/');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h1\",\n      content: \"Login\",\n      style: style.h1,\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Usernane or Email\"), /*#__PURE__*/React.createElement(Form.Input, {\n      onChange: e => this.setState({\n        username: e.target.value\n      }),\n      placeholder: \"Username or Email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Input, {\n      type: \"password\",\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Form.Button, {\n      fluid: true,\n      type: \"submit\",\n      disabled: !(this.state.username && this.state.password),\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(Button, {\n      fluid: true,\n      color: \"red\",\n      type: \"submit\",\n      disabled: !(this.state.username && this.state.password),\n      onClick: this.handletest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Test\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/tobeyasinugo/dev/facechat_django/frontend/src/pages/login.js"],"names":["React","Form","Checkbox","Button","Container","Segment","Header","Input","history","Fetch","handleResponse","authenticationService","style","h1","marginTop","h2","margin","h3","padding","last","marginBottom","Login","Component","constructor","props","handleSubmit","e","preventDefault","login","state","username","password","handletest","requestOptions","method","headers","then","data","console","log","currentUser","logout","push","componentDidMount","auth","subscribe","x","setState","render","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Checkbox, Button, Container, Segment, Header, Input } from 'semantic-ui-react'\n\nimport { history } from '../helpers/history';\nimport { Fetch } from '../helpers/auth-request';\nimport { handleResponse } from '../helpers/handle-response';\nimport { authenticationService } from '../services/auth.service';\n\nconst style = {\n    h1: {\n      marginTop: '3em',\n    },\n    h2: {\n      margin: '4em 0em 2em',\n    },\n    h3: {\n      marginTop: '2em',\n      padding: '2em 0em',\n    },\n    last: {\n      marginBottom: '300px',\n    },\n  }\n\n  class Login extends React.Component {\n    constructor(props) {\n      super(props);\n\n      // redirect to home if already logged in\n      if (authenticationService.currentUser) { \n        console.log('user ', authenticationService.currentUser)\n        authenticationService.logout();\n\n         history.push('/#/chat/maya-jama/');\n      }\n\n      this.state = {\n          username: null,\n          password: null\n      };\n  }\n\n  componentDidMount() {\n    authenticationService.auth.subscribe(x => this.setState({ auth: x }));\n  }\n\n\n  logout() {\n      authenticationService.logout();\n      history.push('/login/');\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    authenticationService.login(this.state.username, this.state.password)\n    \n  }\n\n  handletest = (e) => {\n    e.preventDefault();\n    Fetch('http://localhost:8002/api/user/me/')\n\n    const requestOptions = {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n  };\n\n    Fetch('http://localhost:8002/api/user/me/')\n    .then(handleResponse)\n    .then(data => { \n      console.log('me')\n      console.log(data)\n    })\n  \n  }\n\n  \n    render() {\n      return (\n        <Container>\n            <Header as='h1' content='Login' style={style.h1} textAlign='center' />\n                <Form>\n                <Form.Field>\n                    <label>Usernane or Email</label>\n                    <Form.Input  \n                    onChange={(e) => this.setState({username: e.target.value})}\n                    placeholder='Username or Email' />\n                </Form.Field>\n                <Form.Field>\n                    <label>Password</label>\n                    <Form.Input \n                    type='password' \n                    onChange={(e) => this.setState({password: e.target.value})} />\n                </Form.Field>\n                  <Form.Button\n                    fluid\n                    type='submit' \n                    disabled = {!(this.state.username && this.state.password)}\n                    onClick={this.handleSubmit} >Submit\n                    </Form.Button>\n                </Form>\n\n                <Button\n                    fluid\n                    color='red'\n                    type='submit' \n                    disabled = {!(this.state.username && this.state.password)}\n                    onClick={this.handletest} >Test\n              </Button>\n        </Container>\n        );\n      }\n    \n    }\n    export default Login"]},"metadata":{},"sourceType":"module"}